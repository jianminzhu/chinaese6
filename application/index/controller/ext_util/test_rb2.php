<?php
require_once 'rb.php';
require_once "fileUtil.php";
function save($tableName, $data)
{
    try {
        $to = R::dispense($tableName);
        foreach ($data as $key => $value) {
            $to[$key] = $value;
        }
        return R::store($to);
    } catch (Exception $e) {
        print "\nerror in " . $e->getMessage();
        return null;
    }
}

function findSave($tablename, $data)
{
    try {
        return R::findOrCreate($tablename, $data);
    } catch (Exception $e) {
        print "error in " . $e->getMessage();
        return null;
    }
}

function c($id)
{
    if ($id) {
        $header = [

            "Host: www.bytrip.com"
            , "Connection: keep-alive"
            , "Accept: */*"
            , "X-Requested-With: XMLHttpRequest"
            , "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3710.0 Safari/537.36"
            , "Referer: http://www.bytrip.com/i/u_1676.html"
            , "Accept-Encoding: gzip, deflate"
            , "Accept-Language: zh-CN,zh;q=0.9"
            , "Cookie: userAgent=windows; UM_distinctid=16951d8cc6e351-0f58a4b9eda2e8-65507628-100200-16951d8cc6f46a; pgv_pvi=8289512448; _qddaz=QD.rrg62g.l31xa0.jswv7gs5; tencentSig=3543160832; PHPSESSID=hus6o0rhlvjbrl4ka083or16i2; Hm_lvt_c4cdd73c3369f00bb9e8b9dcaeef9374=1552631899,1552707193,1552792158,1552816117; IESESSION=alive; pgv_si=s9868522496; CNZZDATA1264312706=276594731-1551852564-%7C1552834367; _qdda=3-1.1; _qddab=3-oq0ux9.jtd2e0kk; _qddamta_800001973=3-0; onethink_home__userinfo=think%3A%7B%22uid%22%3A%22170712%22%2C%22nickname%22%3A%22considerateman%22%2C%22realname%22%3A%22%25E4%25BD%2593%25E8%25B4%25B4%25E7%2594%25B7%22%2C%22hx_password%22%3A%22f65c5248dc230b9cedee77296f266c05%22%2C%22hx_username%22%3A%2253d25555eddc73436fa0c0a842663574%22%2C%22birthday%22%3A%221966-1-10%22%2C%22sex%22%3A%221%22%2C%22address_city%22%3A%22110100%22%2C%22address_province%22%3A%22110000%22%2C%22height%22%3A%22180%22%2C%22weight%22%3A%2270%22%2C%22bwh%22%3A%22%25E8%2585%25B0%25E5%259B%25B4%22%2C%22marriage%22%3A%224%22%2C%22education%22%3A%22%25E7%25A1%2595%25E5%25A3%25AB%22%2C%22profession%22%3A%223%22%2C%22language%22%3A%221%252C2%252C3%252C7%22%2C%22mood%22%3A%22%25E6%2588%2591%25E7%25BB%258F%25E5%25B8%25B8%25E5%2587%25BA%25E5%25B7%25AE%25EF%25BC%258C%25E7%25BE%258E%25E5%259B%25BD%25EF%25BC%258C%25E5%258A%25A0%25E6%258B%25BF%25E5%25A4%25A7%25EF%25BC%258C%25E4%25B8%258A%25E6%25B5%25B7%252C%25E5%258C%2597%25E4%25BA%25AC%25EF%25BC%258C%25E6%259D%25AD%25E5%25B7%259E%25E8%25A5%25BF%25E5%25AE%2589%25E9%2587%258D%25E5%25BA%2586%25EF%25BC%258C%25E8%25BF%2598%25E6%259C%2589%25E5%2585%25A8%25E5%259B%25BD%25E5%2585%25B6%25E4%25BB%2596%25E5%2590%2584%25E5%259C%25B0%25E3%2580%2582%25E6%2583%25B3%25E6%2589%25BE%25E7%25B4%25A0%25E8%25B4%25A8%25E5%25A5%25BD%25EF%25BC%258C%25E6%259C%2589%25E4%25BF%25AE%25E5%2585%25BB%25EF%25BC%258C%25E6%2580%25A7%25E6%2583%2585%25E6%259F%2594%25E5%2592%258C%25E7%259A%2584%25E4%25BC%25B4%25E6%25B8%25B8%25E3%2580%2582%25E6%259C%2589%25E6%2597%25B6%25E4%25B8%2580%25E4%25BA%25BA%25E5%25AF%2582%25E5%25AF%259E%25EF%25BC%258C%25E5%25B8%258C%25E6%259C%259B%25E4%25BC%25B4%25E6%25B8%25B8%25E9%2599%25AA%25E6%2588%2591%25E5%2590%2583%25E5%2590%2583%25E9%25A5%25AD%25EF%25BC%258C%25E8%2581%258A%25E8%2581%258A%25E5%25A4%25A9%25EF%25BC%258C%25E5%258F%25A6%25E5%25A4%2596%25E5%258E%25BB%25E6%2599%25AF%25E7%2582%25B9%25E7%259A%2584%25E6%2597%25B6%25E5%2580%2599%25E6%259C%2580%25E5%25A5%25BD%25E8%2583%25BD%25E8%25AE%25B2%25E4%25BA%259B%25E5%2586%2585%25E5%25AE%25B9%25E3%2580%2582%25E8%25B4%25B9%25E7%2594%25A8%25E4%25B8%258D%25E6%2598%25AF%25E9%2597%25AE%25E9%25A2%2598%25E3%2580%2582%22%2C%22experience%22%3A%220%22%2C%22temperament%22%3A%22%252C6%252C2%22%2C%22speciality%22%3A%22%22%2C%22isapprove%22%3A%223%22%2C%22type%22%3A%221%22%2C%22money%22%3A%220.00%22%2C%22account%22%3A%220.00%22%2C%22score%22%3A%220%22%2C%22giftbox%22%3A%220%22%2C%22flower%22%3A%220%22%2C%22vip%22%3A%2212%22%2C%22overdue_time%22%3A%221577342626%22%2C%22login%22%3A%2266%22%2C%22reg_ip%22%3A%220%22%2C%22reg_time%22%3A%221347271260%22%2C%22last_login_ip%22%3A%221779329066%22%2C%22last_login_time%22%3A%221552836229%22%2C%22status%22%3A%221%22%2C%22travel_status%22%3A%220%22%2C%22updatetime%22%3A%220%22%2C%22video%22%3A%220%22%2C%22approve_type%22%3A%220%22%2C%22isfull%22%3A%221%22%2C%22price%22%3A%221.00%22%2C%22login_type%22%3A%223%22%2C%22hot%22%3A%2297%22%2C%22is_tan%22%3A%223%22%2C%22zskf%22%3A%229%22%2C%22htkt_time%22%3A%220%22%2C%22is_read%22%3A%220%22%2C%22is_recommend%22%3A%220%22%2C%22face_img%22%3A%2255432%22%2C%22link_time%22%3A%22%22%2C%22index_sort%22%3A%220%22%2C%22is_apply%22%3A%220%22%2C%22gid%22%3A%22%22%2C%22pos_top%22%3A%220%22%2C%22journey_num%22%3A%220%22%2C%22online_lover_num%22%3A%220%22%2C%22video_num%22%3A%220%22%2C%22tourist_price%22%3A%220.00%22%2C%22cus_num%22%3A%220%22%2C%22video_banyou_num%22%3A%220%22%2C%22video_mm_num%22%3A%220%22%2C%22free_date%22%3A%220%22%2C%22rtime%22%3A%220%22%2C%22sort%22%3A%220%22%2C%22pid%22%3A%220%22%2C%22setting%22%3A%22%22%2C%22_face%22%3A%2255432%22%7D; Hm_lpvt_c4cdd73c3369f00bb9e8b9dcaeef9374=1552836265"

        ];
        $sjson = ExtGetJson("http://www.bytrip.com/User/Ajax/swapContact.html?id=$id", $header);
        return ExtGetJson("http://www.bytrip.com/User/Ajax/contact.html?fuid=$id", $header);

    }
    return null;
}

function spider($ids, $limit = 500)
{
    $count = 0;
    $lastId = "";
    foreach ($ids as $id) {
        $count++;
        if ($count > $limit) {
            break;
        }
        $lastId = $id;
        $jsonStr = c($id);
        try {
            $data = json_decode($jsonStr);
            $concats = $data[0];
            $member = $data[4];
            $level = $data[1];
            $member->mark = "";
            $member->main_pic = $data[3];
            save('memberby', $member);
            $level->uid = $member->uid;
            save('memberlevel', $level);
            foreach ($concats as $concat) {
                $concat->uid = $member->uid;
                echo "\n" . $member->uid . " " . $concat->type . " " . $concat->number;
                save('membercontacts', $concat);
            }
        } catch (Exception $e) {
            echo "\n33333" . $e->getMessage();
        }
    }
    return array($count, $lastId);
}

//$jsonStr =file_get_contents("./test_rb2.json");
R::setup("mysql:host=localhost;dbname=test", "root", "root");

$ids = [365, 690, 1988, 2838, 3354, 3433, 3511, 3821, 3840, 4071, 4413, 4636, 5135, 5142, 5161, 5184, 5197, 5252, 5258, 5400, 5460, 5468, 5521, 5525, 5533, 5622, 5823, 5831, 6229, 6252, 6253, 6577, 6658, 6761, 6888, 7037, 7218, 8350, 9770, 9997, 10378, 10450, 10604, 10968, 11970, 12166, 12216, 12468, 12702, 13905, 13913, 14058, 14365, 14546, 14782, 14853, 15035, 15043, 15074, 15226, 15406, 15951, 16053, 16502, 16707, 17190, 17232, 20460, 20702, 21116, 21727, 22125, 22128, 22155, 22216, 22243, 22294, 22362, 22408, 22431, 22454, 22463, 22524, 22546, 22576, 23379, 23448, 23713, 23725, 23841, 23994, 25336, 26189, 26926, 27145, 27154, 27388, 28707, 28834, 29013, 29223, 29461, 29476, 29664, 29674, 29691, 29765, 29908, 29928, 30029, 30037, 30182, 30490, 30524, 32515, 34202, 34568, 34592, 34636, 35520, 35565, 35595, 36169, 36695, 37621, 37676, 38076, 38299, 38403, 38404, 38500, 38523, 38577, 38673, 38972, 38984, 39232, 39434, 39556, 39962, 40993, 41163, 41254, 41868, 42013, 42063, 43131, 43339, 43731, 45015, 45565, 46268, 46718, 47083, 47200, 47201, 47202, 47233, 47235, 47829, 47850, 48267, 49808, 49838, 50114, 50471, 50680, 50832, 51022, 51213, 52264, 53273, 53680, 53835, 54272, 54354, 54441, 54631, 54835, 54874, 55011, 56099, 56329, 56509, 56539, 56544, 56597, 56611, 56719, 57564, 57738, 57821, 57953, 58494, 58892, 59668, 59799, 59996, 60122, 60770, 61136, 61250, 61662, 61705, 62003, 62026, 62165, 62430, 62610, 62769, 63259, 63393, 63395, 63433, 63524, 63857, 63858, 64518, 64764, 64775, 64972, 66059, 66614, 68546, 69002, 69006, 69094, 69558, 70061, 70115, 70238, 70314, 70464, 70676, 70685, 70686, 70721, 70842, 71030, 71073, 71175, 71318, 71673, 71676, 71943, 72382, 72524, 73124, 74395, 74920, 75295, 75557, 75886, 75896, 76079, 76162, 76275, 76397, 76489, 76666, 76746, 77107, 77138, 77141, 77388, 77475, 77609, 77819, 78187, 78527, 78564, 78844, 78999, 79058, 80447, 80524, 80590, 80649, 81596, 81878, 82363, 82666, 83099, 83101, 83157, 83300, 83524, 83525, 84075, 84238, 84328, 84427, 84469, 84630, 85097, 85393, 86748, 87113, 87452, 87646, 89061, 89282, 89356, 89434, 89572, 89801, 89879, 89975, 90045, 90342, 90450, 90760, 91011, 91017, 91941, 91959, 92417, 92576, 92680, 93080, 93186, 93799, 96298, 96400];
$ids = [96737, 96850, 97255, 97278, 97859, 98546, 98765, 98919, 99001, 99612, 100180, 101034, 101251, 101283, 101593, 101902, 102193, 102196, 102756, 103610, 103668, 103922, 103937, 104179, 104260, 104270, 104601, 104817, 105589, 106030, 106277, 106359, 106681, 106817, 108008, 108243, 108676, 109556, 109881, 110219, 110378, 110403, 112358, 112730, 113115, 113459, 114306, 114486, 114539, 114783, 114941, 116860, 116878, 117300, 117500, 117696, 117747, 117764, 118184, 118190, 119358, 119782, 119980, 120013, 120476, 120664, 120694, 121091, 121093, 121229, 121332, 121350, 121468, 121488, 121560, 121591, 121727, 121957, 122994, 123206, 123933, 123981, 123984, 124006, 124221, 124484, 124612, 125931, 126202, 126424, 126620, 126654, 127207, 127576, 127623, 127969, 128436, 128735, 128808, 129143, 129456, 129582, 129686, 130683, 131098, 131512, 131786, 131974, 132077, 132453, 132502, 132563, 132574, 132581, 132648, 132781, 133070, 133577, 133626, 134495, 134585, 135073, 135172, 135209, 136692, 137794, 138028, 138212, 139412, 139957, 140347, 140458, 140547, 140742, 141067, 141222, 141673, 141852, 142148, 142653, 142868, 143148, 144135, 144275, 146321, 146781, 147026, 147100, 147246, 147356, 147519, 147542, 147573, 147723, 147807, 147829, 147830, 147839, 148348];
$ids = [148950, 149175, 149263, 149500, 149798, 151257, 151349, 151407, 151476, 152085, 152175, 152181, 152201, 152208, 152391, 154848, 154884, 154898, 155065, 155571, 155654, 155950, 156021, 156047, 156100, 156212, 156277, 156422, 156576, 156579, 156580, 156646, 156680, 157248, 157322, 157622, 157756, 157989, 158360, 158486, 158490, 158491, 158540];
$ids = [158569, 158590, 158675, 158752, 158848, 158982, 159021, 159033, 159040, 159884, 160377, 160468, 160503, 161230, 161372, 161913, 165795, 166320, 168044, 168308, 168751, 168759, 168795, 168862, 169059, 169163, 169172, 169252, 169291, 169354, 169520, 171194, 171458, 171507, 172050, 172267, 172365, 172659, 172965, 173517, 173733, 173854, 173966, 174595, 176967, 177108, 177286, 177453, 177660, 178500, 178834, 179340, 179550, 179663, 179734, 181261, 181385, 181538, 181987, 182193, 182908, 183112, 183416, 183604, 183687, 183742, 184026, 184193, 184302, 184426, 184520, 184635, 184882, 185420, 185776, 186318, 186418, 186450, 186684, 186776, 186800, 186914, 186922, 186950, 187009, 187537, 188050, 188181, 188458, 189507, 189673, 189861, 190260, 190302, 190702, 190840, 192796, 193605, 193657, 193724, 193769, 193793, 193841, 193868, 193869, 193885, 193897, 193927, 193951, 194008, 194009, 194016, 194017, 194063, 194161, 194179, 194395, 195041, 195333, 195685, 195751, 195962, 200272, 202286, 207582, 208040, 211114, 218766, 224067, 229817, 230915, 238513, 248206, 267029];
$ids = [296, 297, 319, 403, 527, 931, 997, 1038, 1079, 1108, 1154, 1174, 1198, 1210, 1236, 1308, 1543, 1576, 1710, 1754, 1761, 1806, 1822, 1823, 1917, 1987, 2000, 2012, 2078, 2120, 2134, 2156, 2255, 2258, 2266, 2274, 2286, 2303, 2305, 2318, 2391, 2465, 2535, 2569, 2607, 2608, 2614, 2861, 2887, 2926, 2928, 2945, 2963, 2979, 3011, 3027, 3088, 3122, 3148, 3165, 3200, 3203, 3259, 3309, 3313, 3357, 3459, 3461, 3592, 3692, 3746, 3800, 3889, 3942, 3960, 3961, 4002, 4111, 4123, 4150, 4338, 4358, 4389, 4487, 4490, 4561, 4598, 4647, 4873, 4884, 4994, 5064, 5208, 5323, 5438, 5599, 5627, 5669, 5693, 5694, 5696, 5710, 5747, 5748, 5749, 5763, 5770, 5929, 5993, 6007, 6047, 6054, 6069, 6093, 6156, 6273, 6324, 6343, 6349, 6413, 6488, 6493, 6702, 6831, 6978, 7006, 7230, 7346, 7353, 7547, 7624, 7749, 7908, 7991, 8000, 8026, 8040, 8165, 8196, 8357, 8416, 8476, 8506, 8576, 8585, 8619, 8775, 8852, 9081, 9175, 9184, 9294, 9297, 9523, 9558, 9631, 9636, 9936, 9937, 10272, 10315, 10319, 10439, 10552, 10557, 10676, 10782, 10813, 11015, 11056, 11133, 11212, 11316, 11452, 11629, 11651, 11703, 11723, 11792, 11819, 11836, 11996, 12025, 12030, 12067, 12168, 12316, 12317, 12324, 12417, 12529, 12537, 12633, 12734, 12995, 13058, 13361, 13453, 13540, 13648, 13761, 13774, 13912, 13918, 14033, 14322, 14540, 14554, 14639, 14754, 14800, 14839, 14939, 15065, 15089, 15112, 15178, 15194, 15280, 15560, 15609, 15640, 15940, 16035, 16037, 16119, 16194, 16236, 16239, 16470, 16551, 16695, 16732, 16740, 17042, 17044, 17215, 17399, 17401, 17423, 17498, 17533, 17603, 17713, 17818, 17858, 17893, 17895, 17910, 17959, 17962, 18009, 18072, 18226, 18245, 18441, 18632, 18671, 18676, 18731, 18753, 18770, 18805, 18890, 18956, 18975, 18978, 19059, 19072, 19126, 19221, 19240, 19290, 19336, 19343, 19376, 19417, 19480, 19484, 19499, 19558, 19572, 19643, 19710, 19731, 19782, 19869, 20002, 20053, 20118, 20232, 20312, 20520, 20522, 20592, 20647, 20720, 21092, 21253, 21256, 21433, 21445, 21476, 21502, 21541, 21584, 21596, 21751, 21756, 21888, 21908, 21914, 21978, 22060, 22135, 22227, 22320, 22324, 22399, 22401, 22420, 22455, 22517, 22543, 22579, 22586, 22643, 22661, 22680, 22734, 22778, 22784, 22827, 22833, 22926, 23034, 23349, 23393, 23418, 23483, 23487, 23500, 23517, 23622, 23672, 23721, 23740, 23765, 23793, 23810, 23813, 24190, 24264, 24282, 24324, 24367, 24373, 24390, 24397, 24424, 24504, 24521, 24523, 24525, 24571, 24573];
$ids = [24586, 24596, 24631, 24636, 24640, 24642, 24645, 24647, 24674, 24686, 24708, 24783, 24785, 24787, 24795, 24799, 24833, 24849, 24908, 24911, 24914, 24929, 24954, 25007, 25033, 25037, 25058, 25083, 25189, 25221, 25333, 25426, 25494, 25495, 25557, 25569, 25602, 25719, 25792, 25834, 25946, 25953, 26032, 26254, 26277, 26284, 26322, 26332, 26344, 26398, 26459, 26477, 26515, 26516, 26559, 26568, 26593, 26597, 26655, 26669, 26693, 26737, 26738, 26752, 26761, 26768, 26769, 26783, 26809, 26829, 26901, 26933, 26939, 26958, 26983, 26988, 27018, 27041, 27115, 27203, 27214, 27316, 27321, 27358, 27471, 27608, 27625, 27641, 27642, 27644, 27657, 27664, 27668, 27671, 27674, 27707, 27712, 27724, 27731, 27733, 27746, 27793, 27870, 27942, 28001, 28076, 28300, 28333, 28345, 28430, 28462, 28468, 28471, 28530, 28599, 28602, 28604, 28647, 28785, 28806, 28807, 28808, 28958, 28970, 29017, 29087, 29096, 29363, 29383, 29413, 29458, 29469, 29600, 29775, 29993, 30039, 30073, 30075, 30077, 30085, 30114, 30124, 30175, 30178, 30205, 30221, 30336, 30411, 30498, 30508, 30514, 30548, 30623, 30660, 30678, 30719, 30961, 30990, 31001, 31116, 31139, 31148, 31191, 31206, 31314, 31359, 31522, 31599, 31812, 31822, 31828, 31953, 32020, 32051, 32052, 32063, 32147, 32194, 32290, 32321, 32365, 32445, 32483, 32517, 32545, 32592, 32600, 32611, 32614, 32636, 32690, 32742, 32985, 33016, 33027, 33106, 33184, 33411, 33429, 33434, 33545, 33877, 33925, 33946, 34017, 34255, 34262, 34353, 34399, 34404, 34686, 34713, 34759, 34836, 34844, 34884, 34907, 35049, 35089, 35132, 35256, 35323, 35518, 35574, 35587, 35655, 35721, 35763, 35884, 35924, 35937, 35940, 36038, 36093, 36107, 36181, 36285, 36306, 36406, 36470, 36485, 36489, 36535, 36542, 36547, 36614, 36726, 36770, 36771, 36773, 36775, 36791, 36799, 36993, 37167, 37195, 37359, 37387, 37507, 37581, 37735, 37794, 37841, 37844, 37903, 37960, 38019, 38022, 38070, 38081, 38162, 38364, 38447, 38486, 38498, 38524, 38542, 38617, 38693, 38770, 38771, 38855, 38953, 38958, 39007, 39031, 39078, 39144, 39370, 39416, 39667, 39683, 39689, 39718, 39813, 39820, 39900, 40174, 40330, 40362, 40706, 40991, 41027, 41057, 41116, 41186, 41192, 41278, 41289, 41301, 41383, 41577, 41586, 41616, 41662, 41673, 41700, 41970, 42038, 42057, 42093, 42142, 42245, 42291, 42295, 42340, 42349, 42387, 42413, 42420, 42445, 42474, 42477, 42490, 42539, 42555, 42632, 42649, 42666, 42679, 42761, 42783, 42822, 42833, 42836, 42878, 42888, 42889, 42894, 42972, 42975, 42979, 43010, 43031, 43072, 43075, 43157, 43273, 43287, 43398, 43534, 43595, 43598, 43625, 43702, 43704, 43733, 43787, 43824, 43863, 43893, 43896, 43922, 43937, 43942, 43979, 44062, 44226, 44242, 44253, 44314, 44349, 44381, 44476, 44511, 44526, 44572, 44582, 44590, 44595, 44679, 44718, 44813, 44850, 44853, 45003, 45063, 45084, 45156, 45189, 45226, 45388, 45542, 45662, 45743, 45810, 45905, 45963, 45975, 46001, 46063, 46348, 46364, 46441, 46600, 46631, 46668, 46715, 46731, 46759, 46785, 46789, 46902, 46956, 47018, 47024, 47036, 47050, 47059, 47090, 47124, 47125, 47133, 47144, 47160, 47176, 47177, 47205, 47330, 47689, 47709, 47748, 47768, 47883, 47905, 48020, 48223, 48310, 48515, 48679, 48685, 48743, 48760, 48762, 48905, 48906, 48910, 48913, 48915, 48924, 49070, 49071, 49315, 49508, 49533, 49614, 49737, 49809, 49911, 50107, 50182, 50209, 50375, 50575, 50639, 50868, 50928, 51105, 51110, 51243, 51348, 51386, 51394, 51440, 51449, 51471, 51474, 51553, 51655, 51695, 51708, 51755, 51756, 51759, 51760, 51761, 51771, 51786, 51816, 51832, 51912, 51941, 51968, 51972, 51987, 52094, 52119, 52120, 52232, 52249, 52373, 52569, 52574, 52640, 52653, 52655, 52771, 52791, 52816, 52850, 52881, 52948, 53015, 53027, 53045, 53057, 53093, 53104, 53176, 53178, 53180, 53190, 53195, 53206, 53248, 53313, 53317, 53472, 53519, 53626, 53656, 53659, 53697, 53706, 53709, 53735, 53775, 53801, 53874, 53908, 53922, 53932, 54026, 54045, 54054, 54097, 54133, 54183, 54190, 54191, 54232, 54240, 54396, 54415, 54456, 54550, 54575, 54688, 54708, 54855, 54886, 55019, 55040, 55232, 55254, 55371, 55378, 55554, 55555, 55557, 55668, 55688, 55697, 55730, 55862, 55873, 55925, 55934, 55983, 55991, 56015, 56020, 56105, 56184, 56266, 56300, 56370, 56431, 56535, 56540, 56615, 56634, 56702, 56931, 56993, 57011, 57029, 57038, 57106, 57139, 57292, 57312, 57326, 57418, 57433, 57439, 57488, 57489, 57648, 57841, 57888, 58042, 58090, 58118, 58253, 58361, 58385, 58424, 58454, 58456, 58542, 58605, 58665, 58666];
list($count, $lastId) = spider($ids, 500 - 134);
file_put_contents("test_rb2.php.log", $count, $lastId, FILE_APPEND);