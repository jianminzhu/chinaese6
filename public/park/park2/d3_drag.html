<script src="js/d3/d3.v5.min.js"></script>
<div id="create"></div>
<script>
    padding={
        left:1,
        right:1,
        top:1,
        bottom:1
    }
    width=500;
    height=400;
    let svg = d3.select('#create')
        .append('svg')
        .attr('id','chart')
        .attr('width',width)
        .attr("height",height);

    //定义x轴y轴的比例尺
    let xScale = d3.scaleLinear()
        .domain([0,this.sliderMaxVal])
        .range([0,width - padding.left - padding.right])
        .clamp(true);

    let yScale = d3.scaleLinear()
        .domain([0,3])
        .range([height - padding.top - padding.bottom,0])
        .clamp(true);

    //定义x轴y轴
    let xAxis = d3.axisBottom().scale(xScale).ticks(10);
    let yAxis = d3.axisLeft().scale(yScale).ticks(3);

    //添加X轴y轴
    svg.append('g')
        .attr('class','axis')
        .attr('transform','translate(' + padding.left + ',' + (height-padding.bottom) + ')')
        .classed('axis-x',true)
        .call(xAxis);

    svg.append("g")
        .attr('class','axis')
        .attr('transform','translate(' + padding.left + ',' + padding.top + ')')
        .classed('axis-y',true)
        .call(yAxis);

    //拖拽
    let drag = d3.drag()
        .on("start", function(d){
            console.log("start");
        }).on("end", function(d){
            console.log(d3.mouse(this)[0]);
            console.log("end");
        }).on("drag", function(d){
            d3.select(this.childNodes[0])
                .attr("x",d3.event.x)
                .attr("y",d3.event.y);
        });
</script>